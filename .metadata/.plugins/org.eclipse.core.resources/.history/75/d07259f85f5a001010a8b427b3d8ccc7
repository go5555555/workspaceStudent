<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>参考書一覧</title>
</head>
<body>
	<h2>参考書一覧</h2>
	<table border="3">
		<h3 th:text="${textbook.subjectName}"></h3>	
	</table>
	<table border="1" width="400">
		<thead>
			<tr>
				<th>科目番号</th>
				<th>教科書タイトル</th>
				<th>科目名編集</th>
				<th>科目削除</th>
			</tr>
		</thead>
		<tbody>
			<tr th:each="tr : ${trainings}">
						<td th:text="${tr.subjectName}?:'---'"></td>
						<td th:text="${tr.title}?:'---'"></td>
						<td th:text="${#strings.isEmpty(tr.pages) ? '---' : tr.pages}"></td>
						<td th:text="${#strings.isEmpty(tr.memo) ? '---' : tr.memo}"></td>
						<td>
							<a th:href="@{/details/form/{studentId}(studentId=${student.id}
											,studentName=${student.studentName}
											,studyDay=${#temporals.format(studyDay, 'yyyy-MM-dd')}
											,oldTextBookId=${tr.textBookId}
											)}">編集</a>
						</td>
						<td>
							<a th:href="@{/details/delete(studentId=${student.id}
											,studyDay=${#temporals.format(studyDay, 'yyyy-MM-dd')}
											,textBookId=${training.textBookId})}">削除</a>
						</td>
			<tr th:each="tex : ${textbooks}">
				<td th:text="${tex.id}"></td>
				<td th:text="${tex.title}"></td>
				<td>
			        <a th:href="@{/textbooks/form/{id}(id=${tex.id})}"
			           th:text="編集"></a>
				</td>
				<td>
			        <a th:href="@{/textbooks/reallydelete/{id}(id=${tex.id})}"
			           th:text="削除"></a>
				</td>
			</tr>
			<p 	th:if ="${message}"
				th:text="${message}" style ="color: red">
		</tbody>
	</table>
	<a th:href = "@{/textbooks/form}" th:text="${textbook.subjectName}+ の参考書を追加"></a>
	<a th:href = "@{/subjects}">科目一覧へ戻る</a>
	<a th:href = "@{/students}">生徒一覧へ戻る</a>
</body>
</html>